/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(1);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.trans = trans;
exports.trans_choice = trans_choice;

var _Translator = __webpack_require__(2);

var _Translator2 = _interopRequireDefault(_Translator);

var _ChoiceTranslator = __webpack_require__(3);

var _ChoiceTranslator2 = _interopRequireDefault(_ChoiceTranslator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Translate keys like laravel helper method trans
 *
 * @param  {String} key         the translation key to translate
 * @param  {Object} params      the params to include in the translation
 * @return {String}             the translated string
 * @author {Glen Bangkila}
 */
function trans(key, params) {
    var locale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

    return new _Translator2.default(key, params, locale).translate();
}

/**
 * Translate keys like laravel helper method trans
 *
 * @param  {String} key         the translation key to translate
 * @param  {Number} count       the translation key to translate
 * @param  {Object} params      the params to include in the translation
 * @return {String}             the translated string
 * @author {Glen Bangkila}
 */
function trans_choice(key, count, params) {
    var locale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

    return new _ChoiceTranslator2.default(key, count, params, locale).translate();
}

if (typeof window !== 'undefined') {
    window.__ = trans;
    window.__choice = trans_choice;
    window.trans = trans;
    window.trans_choice = trans_choice;
}

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**!
 * Translator class
 * 
 * @author Glen Bangkila
 * @license MIT
 */
var Translator = function () {
    function Translator(key, params) {
        var locale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

        _classCallCheck(this, Translator);

        if (typeof Polyglot === 'undefined') {
            throw new Error('Polyglot is missing.');
        }

        var _Polyglot = Polyglot,
            translations = _Polyglot.translations;


        this.key = key;
        this.result = key;
        this.params = typeof params === 'string' ? {} : params;
        this.locale = typeof params === 'string' ? params : locale;
        this.translations = translations[this.resolveLocale()];
    }

    _createClass(Translator, [{
        key: 'resolveLocale',
        value: function resolveLocale() {
            var locale = this.locale;
            var _Polyglot2 = Polyglot,
                activeLocale = _Polyglot2.activeLocale,
                fallbackLocale = _Polyglot2.fallbackLocale;

            var defaultLocale = activeLocale == '' ? fallbackLocale : activeLocale;
            return locale === null ? defaultLocale : locale;
        }

        /**
         * Translate key
         * 
         * @return {void}
         */

    }, {
        key: 'parseKey',
        value: function parseKey() {
            var _this = this;

            if (typeof this.translations !== 'undefined') {
                var trans = this.translations.keys;
                this.key.split('.').forEach(function (item) {
                    return trans = typeof trans[item] !== 'undefined' ? trans[item] : _this.key;
                });
                this.result = trans;
            }
            return this;
        }

        /**
         * Translate string
         * 
         * @param {String} payload                  the string to translate
         * @return {void}
         */

    }, {
        key: 'parseString',
        value: function parseString() {
            var payload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

            var key = payload == null ? this.key : payload;
            if (typeof this.translations !== 'undefined' && typeof this.translations.strings[key] !== 'undefined') {
                this.result = this.translations.strings[key];
            }
            return this;
        }

        /**
         * Parse params of the translated string
         * 
         * @return {void}
         */

    }, {
        key: 'parseParams',
        value: function parseParams() {
            var trans = this.result;
            for (var param in this.params) {
                var pattern = ':' + param;
                var regex = new RegExp(pattern, "g");
                trans = trans.replace(regex, this.params[param]);
            }
            this.result = trans;
            return this;
        }

        /**
         * Return the translated string
         * 
         * @return {String}
         */

    }, {
        key: 'translate',
        value: function translate() {
            this.parseKey().parseString().parseParams().parseString(this.result);
            return this.result;
        }
    }]);

    return Translator;
}();

exports.default = Translator;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**!
 * Translator class
 * 
 * @author Glen Bangkila
 * @license MIT
 */
var ChoiceTranslator = function () {
    function ChoiceTranslator(key, count, params) {
        var locale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

        _classCallCheck(this, ChoiceTranslator);

        if (typeof Polyglot === 'undefined') {
            throw new Error('Polyglot is missing.');
        }

        var _Polyglot = Polyglot,
            translations = _Polyglot.translations;


        this.key = key;
        this.count = count;
        this.result = key;
        this.params = typeof params === 'string' ? {} : params;
        this.locale = typeof params === 'string' ? params : locale;
        this.translations = translations[this.resolveLocale()];
        this.choices = [];
    }

    _createClass(ChoiceTranslator, [{
        key: 'resolveLocale',
        value: function resolveLocale() {
            var locale = this.locale;
            var _Polyglot2 = Polyglot,
                activeLocale = _Polyglot2.activeLocale,
                fallbackLocale = _Polyglot2.fallbackLocale;

            var defaultLocale = activeLocale == '' ? fallbackLocale : activeLocale;
            return locale === null ? defaultLocale : locale;
        }

        /**
         * Translate key
         * 
         * @return {void}
         */

    }, {
        key: 'parseKey',
        value: function parseKey() {
            var _this = this;

            if (typeof this.translations !== 'undefined') {
                var trans = this.translations.keys;
                this.key.split('.').forEach(function (item) {
                    return trans = typeof trans[item] !== 'undefined' ? trans[item] : _this.key;
                });
                this.result = trans;
            }
            return this;
        }

        /**
         * Translate string
         * 
         * @param {String} payload                  the string to translate
         * @return {void}
         */

    }, {
        key: 'parseString',
        value: function parseString() {
            var payload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

            var key = payload == null ? this.key : payload;
            if (typeof this.translations !== 'undefined' && typeof this.translations.strings[key] !== 'undefined') {
                this.result = this.translations.strings[key];
            }
            return this;
        }

        /**
         * Parse params of the translated string
         * 
         * @return {void}
         */

    }, {
        key: 'parseParams',
        value: function parseParams() {
            var trans = this.result;
            for (var param in this.params) {
                var pattern = ':' + param;
                var regex = new RegExp(pattern, "g");
                trans = trans.replace(regex, this.params[param]);
            }
            this.result = trans;
            return this;
        }
    }, {
        key: 'resolveChoice',
        value: function resolveChoice(choice) {
            var option = { pattern: '', range: [], value: '' };
            var pattern = /\[(.*?)\]|\{.*?\}/g;
            var count = choice.match(pattern);
            if (count !== null) {
                var range = count[0].match(/\[(.*?)\]/);
                if (range !== null) {
                    range = range[1].split(',').map(function (i) {
                        return parseInt(i);
                    });
                }
                option.pattern = count[0];
                option.range = range;
            }
            option.value = choice.replace(pattern, '').trim();
            return option;
        }
    }, {
        key: 'pickOption',
        value: function pickOption(_ref) {
            var pattern = _ref.pattern,
                range = _ref.range;

            // let range = pattern.match(/\[(.*?)\]/);
            // if (range !== null) {
            //     range = range[1].split(',').map(i => parseInt(i));
            // }
            console.log(range);

            return true;
        }
    }, {
        key: 'parseChoices',
        value: function parseChoices() {
            var _this2 = this;

            var choice = this.result.split('|').map(function (choice) {
                return _this2.resolveChoice(choice);
            }).find(function (option) {
                return _this2.pickOption(option);
            });

            console.log(choice);
            if (typeof choice !== 'undefined') {
                this.result = choice.value;
            }

            return this;
        }

        /**
         * Return the translated string
         * 
         * @return {String}
         */

    }, {
        key: 'translate',
        value: function translate() {
            this.parseKey().parseChoices().parseString(this.result);
            return this.result;
        }
    }]);

    return ChoiceTranslator;
}();

exports.default = ChoiceTranslator;

/***/ })
/******/ ]);